(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[917],{80857:function(e,t,r){Promise.resolve().then(r.bind(r,70265)),Promise.resolve().then(r.bind(r,8265))},68905:function(e,t,r){"use strict";r.d(t,{G:function(){return a},t:function(){return o}});var s=r(57437),n=r(49354);let l={PENDING:"bg-slate-400",RUNNING:"bg-yellow-400",FAILED:"bg-red-400",COMPLETED:"bg-emerald-600"};function a(e){let{status:t}=e;return(0,s.jsx)("div",{className:(0,n.cn)("w-2 h-2 rounded-full",l[t])})}let u={PENDING:"text-slate-400",RUNNING:"text-yellow-400",FAILED:"text-red-400",COMPLETED:"text-emerald-600"};function o(e){let{status:t}=e;return(0,s.jsx)("span",{className:(0,n.cn)("lowercase",u[t]),children:{PENDING:"等待中",RUNNING:"运行中",COMPLETED:"运行成功",FAILED:"已失败"}[t]})}},8265:function(e,t,r){"use strict";r.d(t,{default:function(){return f}});var s=r(57437),n=r(65118),l=r(16463),a=r(91907),u=r(44965),o=r(47304),c=r(68905);r(74590);var i=(0,r(58064).$)("853804e72b25c51acd650cec86ff049396acf27f"),d=r(23408);function f(e){let{workflowId:t,initialData:r}=e,f=(0,l.useRouter)(),m=(0,n.a)({queryKey:["executions",t],initialData:r,queryFn:()=>i(t),refetchInterval:5e3}),x={PENDING:"等待中",RUNNING:"运行中",COMPLETED:"运行成功",FAILED:"已失败"};return(0,s.jsx)("div",{className:"border rounded-lg shadow-md overflow-auto",children:(0,s.jsxs)(o.iA,{className:"h-full",children:[(0,s.jsx)(o.xD,{className:"bg-muted",children:(0,s.jsxs)(o.SC,{children:[(0,s.jsx)(o.ss,{children:"Id"}),(0,s.jsx)(o.ss,{children:"状态"}),(0,s.jsx)(o.ss,{className:"text-right text-xs text-muted-foreground",children:"开始时间(秒)"})]})}),(0,s.jsx)(o.RM,{className:"gap-2 h-full overflow-auto",children:m.data.map(e=>{let t=(0,d.h)(e.completedAt,e.startedAt),r=e.startedAt&&(0,a.Q)(e.startedAt,{addSuffix:!0,locale:u.U});return(0,s.jsxs)(o.SC,{className:"cursor-pointer",onClick:()=>{f.push("/workflow/runs/".concat(e.workflowId,"/").concat(e.id))},children:[(0,s.jsx)(o.pj,{children:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"font-semibold",children:e.id}),(0,s.jsx)("div",{className:"text-muted-foreground text-xs"})]})}),(0,s.jsx)(o.pj,{children:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,s.jsx)(c.G,{status:e.status}),(0,s.jsx)("span",{className:"font-semibold capitalize",children:x[e.status]})]}),(0,s.jsx)("div",{className:"text-muted-foreground text-xs mx-5",children:t})]})}),(0,s.jsx)(o.pj,{className:"text-right text-muted-foreground",children:r})]},e.id)})})]})})}},47304:function(e,t,r){"use strict";r.d(t,{RM:function(){return o},SC:function(){return c},iA:function(){return a},pj:function(){return d},ss:function(){return i},xD:function(){return u}});var s=r(57437),n=r(2265),l=r(49354);let a=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",r),...n})})});a.displayName="Table";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b",r),...n})});u.displayName="TableHeader";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",r),...n})});o.displayName="TableBody",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...n})}).displayName="TableFooter";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...n})});c.displayName="TableRow";let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("th",{ref:t,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...n})});i.displayName="TableHead";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("td",{ref:t,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...n})});d.displayName="TableCell",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",r),...n})}).displayName="TableCaption"},23408:function(e,t,r){"use strict";r.d(t,{h:function(){return n}});var s=r(81956);function n(e,t){if(!t||!e)return null;let r=e.getTime()-t.getTime();if(r<1e3)return"".concat(r,"ms");let n=(0,s.y)({start:0,end:r});return"".concat(n.minutes||0,"m ").concat(n.seconds||0,"s")}},81956:function(e,t,r){"use strict";r.d(t,{y:function(){return x}});var s=r(74546),n=r(11880);function l(e,t){let{years:r=0,months:l=0,weeks:a=0,days:u=0,hours:o=0,minutes:c=0,seconds:i=0}=t,d=(0,s.Q)(e),f=l||r?function(e,t){let r=(0,s.Q)(e);if(isNaN(t))return(0,n.L)(e,NaN);if(!t)return r;let l=r.getDate(),a=(0,n.L)(e,r.getTime());return(a.setMonth(r.getMonth()+t+1,0),l>=a.getDate())?a:(r.setFullYear(a.getFullYear(),a.getMonth(),l),r)}(d,l+12*r):d,m=u||a?function(e,t){let r=(0,s.Q)(e);return isNaN(t)?(0,n.L)(e,NaN):(t&&r.setDate(r.getDate()+t),r)}(f,u+7*a):f;return(0,n.L)(e,m.getTime()+1e3*(i+60*(c+60*o)))}var a=r(69738);function u(e,t){let r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}var o=r(80084),c=r(87283),i=r(69729),d=r(2601),f=r(15983),m=r(35091);function x(e){let t=(0,s.Q)(e.start),r=(0,s.Q)(e.end),n={},x=function(e,t){let r=(0,s.Q)(e),n=(0,s.Q)(t),l=(0,m.U)(r,n),a=Math.abs(function(e,t){let r=(0,s.Q)(e),n=(0,s.Q)(t);return r.getFullYear()-n.getFullYear()}(r,n));r.setFullYear(1584),n.setFullYear(1584);let u=(0,m.U)(r,n)===-l,o=l*(a-+u);return 0===o?0:o}(r,t);x&&(n.years=x);let N=l(t,{years:n.years}),h=(0,d.d)(r,N);h&&(n.months=h);let g=l(N,{months:n.months}),b=function(e,t){let r=(0,s.Q)(e),n=(0,s.Q)(t),l=u(r,n),o=Math.abs((0,a.w)(r,n));r.setDate(r.getDate()-l*o);let c=Number(u(r,n)===-l),i=l*(o-c);return 0===i?0:i}(r,g);b&&(n.days=b);let j=l(g,{days:n.days}),p=function(e,t,r){let s=(0,i._)(e,t)/c.vh;return(0,o.u)(void 0)(s)}(r,j);p&&(n.hours=p);let v=l(j,{hours:n.hours}),w=function(e,t,r){let s=(0,i._)(e,t)/c.yJ;return(0,o.u)(void 0)(s)}(r,v);w&&(n.minutes=w);let y=l(v,{minutes:n.minutes}),D=(0,f.c)(r,y);return D&&(n.seconds=D),n}}},function(e){e.O(0,[167,899,231,353,63,673,864,405,265,971,23,744],function(){return e(e.s=80857)}),_N_E=e.O()}]);