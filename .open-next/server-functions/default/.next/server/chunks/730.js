"use strict";exports.id=730,exports.ids=[730],exports.modules={83995:(e,t,a)=>{a.d(t,{M:()=>r}),a(15424);var r=(0,a(46242).$)("3ee51c67189e2b7d6a121d0e57c2859697778aaa")},11828:(e,t,a)=>{a.d(t,{Z:()=>d});var r=a(10326),o=a(17577),n=a(39313),s=a(51223);let l=n.zt,i=n.fC,u=n.xz,T=o.forwardRef(({className:e,sideOffset:t=4,...a},o)=>r.jsx(n.VY,{ref:o,sideOffset:t,className:(0,s.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a}));function d({content:e,children:t,side:a}){return e?r.jsx(l,{delayDuration:0,children:(0,r.jsxs)(i,{children:[r.jsx(u,{asChild:!0,children:t}),r.jsx(T,{side:a,children:e})]})}):t}T.displayName=n.VY.displayName},22896:(e,t,a)=>{a.d(t,{ArrowUpIcon:()=>r.default});var r=a(55996)},15378:(e,t,a)=>{a.d(t,{BrainIcon:()=>r.default});var r=a(30942)},94051:(e,t,a)=>{a.d(t,{CodeIcon:()=>r.default});var r=a(10712)},60003:(e,t,a)=>{a.d(t,{DatabaseIcon:()=>r.default});var r=a(44062)},92889:(e,t,a)=>{a.d(t,{Edit3Icon:()=>r.default});var r=a(10493)},66607:(e,t,a)=>{a.d(t,{EyeIcon:()=>r.default});var r=a(46965)},57005:(e,t,a)=>{a.d(t,{FileJson2Icon:()=>r.default});var r=a(34898)},10830:(e,t,a)=>{a.d(t,{GlobeIcon:()=>r.default});var r=a(38861)},36559:(e,t,a)=>{a.d(t,{Link2Icon:()=>r.default});var r=a(1164)},12615:(e,t,a)=>{a.d(t,{MousePointerClick:()=>r.default});var r=a(3129)},10880:(e,t,a)=>{a.d(t,{SendIcon:()=>r.default});var r=a(34089)},64825:(e,t,a)=>{a.d(t,{TextIcon:()=>r.default});var r=a(33520)},42259:(e,t,a)=>{a.r(t),a.d(t,{RunWorkflow:()=>d});var r=a(27745);a(26461);var o=a(74739),n=a(93396),s=a(24831),l=a(60006),i=a(68345),u=a(78624),T=a(18992);async function d(e){let t;let{userId:a}=(0,n.auth)();if(!a)throw Error("账户错误");let{workflowId:r,flowDefinition:d}=e;if(!r)throw Error("workflowId为必填");let c=await s.default.workflow.findUnique({where:{userId:a,id:r}});if(!c)throw Error("工作流未找到");let E=d;if(c.status===T.WorkflowStatus.PUBLISHED){if(!c.executionPlan)throw Error("在已发布的工作流中找不到执行计划");t=JSON.parse(c.executionPlan),E=c.definition}else{if(!d)throw Error("工作流未定义");let e=JSON.parse(d),a=(0,l.FlowToExecutionPlan)(e.nodes,e.edges);if(a.error)throw Error("工作流定义无效");if(!a.executionPlan)throw Error("未生成执行计划");t=a.executionPlan}let p=await s.default.workflowExecution.create({data:{workflowId:r,userId:a,status:T.WorkflowExecutionStatus.PENDING,startedAt:new Date,trigger:T.WorkflowExecutionTrigger.MANUAL,definition:E,phases:{create:t.flatMap(e=>e.nodes.flatMap(t=>({userId:a,status:T.ExecutionPhaseStatus.CREATED,number:e.phase,node:JSON.stringify(t),name:i.TaskRegistry[t.data.type].label})))}},select:{id:!0,phases:!0}});if(!p)throw Error("工作流执行栈未创建");(0,u.ExecuteWorkflow)(p.id),(0,o.redirect)(`/workflow/runs/${r}/${p.id}`)}(0,a(85723).ensureServerEntryExports)([d]),(0,r.registerServerReference)("3ee51c67189e2b7d6a121d0e57c2859697778aaa",d)},30866:(e,t,a)=>{a.d(t,{symmetricDecrypt:()=>l,symmetricEncrypt:()=>s});var r=a(6113),o=a.n(r);let n="aes-256-cbc",s=e=>{let t=process.env.ENCRYPTION_KEY;if(!t)throw Error("加密key没有找到");let a=o().randomBytes(16),r=o().createCipheriv(n,Buffer.from(t,"hex"),a),s=r.update(e);return s=Buffer.concat([s,r.final()]),a.toString("hex")+":"+s.toString("hex")},l=e=>{let t=process.env.ENCRYPTION_KEY;if(!t)throw Error("加密key没有找到");let a=e.split(":"),r=Buffer.from(a.shift(),"hex"),s=Buffer.from(a.join(":"),"hex"),l=o().createDecipheriv(n,Buffer.from(t,"hex"),r),i=l.update(s);return(i=Buffer.concat([i,l.final()])).toString()}},60648:(e,t,a)=>{a.d(t,{createLogCollector:()=>o});var r=a(13603);function o(){let e=[],t={};return r.LogLevels.forEach(a=>t[a]=t=>{e.push({message:t,level:a,timestamp:new Date})}),{getAll:()=>e,...t}}},24831:(e,t,a)=>{a.d(t,{default:()=>o});var r=a(53524);let o=globalThis.prismaGlobal??new r.PrismaClient},78624:(e,t,a)=>{a.d(t,{ExecuteWorkflow:()=>T});var r=a(30207),o=a(24831),n=a(68345),s=a(89618),l=a(60648),i=a(18992),u=a(74286);async function T(e,t){let a=await o.default.workflowExecution.findUnique({where:{id:e},include:{workflow:!0,phases:!0}});if(!a)throw Error("执行流程未找到");let n=JSON.parse(a.definition).edges,s={phases:{}};await d(a.id,a.workflowId,t),await c(a);let l=0,i=!1;for(let e of a.phases){let t=await p(e,s,n,a.userId);if(l+=t.creditsConsumed,!t.success){i=!0;break}}await E(e,a.workflowId,i,l),await m(s),(0,r.revalidatePath)("/workflow/runs")}async function d(e,t,a){await o.default.workflowExecution.update({where:{id:e},data:{startedAt:new Date,status:i.WorkflowExecutionStatus.RUNNING}}),await o.default.workflow.update({where:{id:t},data:{lastRunAt:new Date,lastRunStatus:i.WorkflowExecutionStatus.RUNNING,lastRunId:e,...a&&{nextRunAt:a}}})}async function c(e){await o.default.executionPhase.updateMany({where:{id:{in:e.phases.map(e=>e.id)}},data:{status:i.ExecutionPhaseStatus.PENDING}})}async function E(e,t,a,r){let n=a?i.ExecutionPhaseStatus.FAILED:i.ExecutionPhaseStatus.COMPLETED;await o.default.workflowExecution.update({where:{id:e},data:{status:n,completedAt:new Date,creditsConsumed:r}}),await o.default.workflow.update({where:{id:t,lastRunId:e},data:{lastRunStatus:n}}).catch(e=>{})}async function p(e,t,a,r){let s=(0,l.createLogCollector)(),T=new Date,d=JSON.parse(e.node);(function(e,t,a){for(let r of(t.phases[e.id]={inputs:{},outputs:{}},n.TaskRegistry[e.data.type].inputs)){if(r.type===u.TaskParamType.BROWSER_INSTANCE)continue;let o=e.data.inputs[r.name];if(o){t.phases[e.id].inputs[r.name]=o;continue}let n=a.find(t=>t.target===e.id&&t.targetHandle===r.name);if(!n){console.error("缺少输入边缘连接",r.name,"节点ID:",e.id);continue}let s=t.phases[n.source].outputs[n.sourceHandle];t.phases[e.id].inputs[r.name]=s}})(d,t,a),await o.default.executionPhase.update({where:{id:e.id},data:{status:i.ExecutionPhaseStatus.RUNNING,startedAt:T,inputs:JSON.stringify(t.phases[d.id].inputs)}});let c=n.TaskRegistry[d.data.type].credits,E=await f(r,c,s),p=E?c:0;E&&(E=await N(e,d,t,s));let m=t.phases[d.id].outputs;return await y(e.id,E,m,s,p),{success:E,creditsConsumed:p}}async function y(e,t,a,r,n){let s=t?i.ExecutionPhaseStatus.COMPLETED:i.ExecutionPhaseStatus.FAILED;await o.default.executionPhase.update({where:{id:e},data:{status:s,completedAt:new Date,outputs:JSON.stringify(a),creditsConsumed:n,logs:{createMany:{data:r.getAll().map(e=>({message:e.message,timestamp:e.timestamp,logLevel:e.level}))}}}})}async function N(e,t,a,r){let o=s.ExecutorRegistry[t.data.type];return o?await o({getInput:e=>a.phases[t.id]?.inputs[e],setOutput:(e,r)=>{a.phases[t.id].outputs[e]=r},getBrowser:()=>a.browser,setBrowser:e=>a.browser=e,getPage:()=>a.page,setPage:e=>a.page=e,log:r}):(r.error(`未找到类型为 ${t.data.type} 的执行器`),!1)}async function m(e){e.browser&&await e.browser.close().catch(e=>console.error("无法关闭浏览器，原因:",e))}async function f(e,t,a){try{return!0}catch(e){return a.error("积分余额不足"),!1}}},60006:(e,t,a)=>{a.d(t,{FlowToExecutionPlan:()=>n});var r,o=a(68345);function n(e,t){let a=e.find(e=>o.TaskRegistry[e.data.type].isEntryPoint);if(!a)return{error:{type:0}};let r=[],n=new Set,l=s(a,t,n);l.length>0&&r.push({nodeId:a.id,inputs:l});let i=[{phase:1,nodes:[a]}];n.add(a.id);for(let a=2;a<=e.length&&n.size<e.length;a++){let o={phase:a,nodes:[]};for(let a of e){if(n.has(a.id))continue;let l=s(a,t,n);if(l.length>0){if(!(function(e,t,a){if(!e.id)return[];let r=new Set;return a.forEach(t=>{t.target===e.id&&r.add(t.source)}),t.filter(e=>r.has(e.id))})(a,e,t).every(e=>n.has(e.id)))continue;console.error("节点输入验证错误",a.id,l),r.push({nodeId:a.id,inputs:l})}o.nodes.push(a)}for(let e of o.nodes)n.add(e.id);i.push(o)}return r.length>0?{error:{type:1,invalidElements:r}}:{executionPlan:i}}function s(e,t,a){let r=[];for(let n of o.TaskRegistry[e.data.type].inputs){let o=e.data.inputs[n.name];if(o?.length>0)continue;let s=t.filter(t=>t.target===e.id).find(e=>e.targetHandle===n.name);!(n.required&&s&&a.has(s.source))&&(!n.required&&(!s||s&&a.has(s.source))||r.push(n.name))}return r}!function(e){e[e.NO_ENTRY_POINT=0]="NO_ENTRY_POINT",e[e.INVALID_INPUTS=1]="INVALID_INPUTS"}(r||(r={}))},46240:(e,t,a)=>{a.d(t,{AddPropertyToJsonExecutor:()=>r});async function r(e){try{let t=e.getInput("JSON");t||e.log.error("输入框->JSON未找到");let a=e.getInput("Property name");a||e.log.error("输入框->名称未找到");let r=e.getInput("Property value");r||e.log.error("输入框->值未找到");let o=JSON.parse(t);return o[a]=r,e.setOutput("Updated JSON",JSON.stringify(o)),!0}catch(t){return e.log.error(t.message),!1}}},83300:(e,t,a)=>{a.d(t,{ClickElementExecutor:()=>r});async function r(e){try{let t=e.getInput("Selector");return t||e.log.error("输入框->选择器未找到"),await e.getPage().click(t),!0}catch(t){return e.log.error(t.message),!1}}},67843:(e,t,a)=>{a.d(t,{DeliverViaWebhookExecutor:()=>r});async function r(e){try{let t=e.getInput("Target URL");t||e.log.error("输入框->目标URL未找到");let a=e.getInput("Body");a||e.log.error("输入框->请求体未找到");let r=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),o=r.status;if(200!==o)return e.log.error(`Status code: ${o}`),!1;let n=await r.json();return e.log.info(JSON.stringify(n,null,4)),!0}catch(t){return e.log.error(t.message),!1}}},29147:(e,t,a)=>{a.d(t,{ExtractDataWithAiExecutor:()=>n});var r=a(24831),o=a(30866);async function n(e){try{let t=e.getInput("Credentials");t||e.log.error("输入框->凭证未找到"),e.getInput("Prompt")||e.log.error("输入框->提示词未找到"),e.getInput("Content")||e.log.error("输入框->内容未找到");let a=await r.default.credential.findUnique({where:{id:t}});if(!a)return e.log.error("凭证未找到"),!1;if(!(0,o.symmetricDecrypt)(a.value))return e.log.error("加密报错"),!1;return e.log.info("Mock data is being used currently"),e.setOutput("Extracted data",JSON.stringify({usernameSelector:"#username",passwordSelector:"#password",loginSelector:"body > div > form > input.btn.btn-primary"})),!0}catch(t){return e.log.error(t.message),!1}}},21228:(e,t,a)=>{a.d(t,{ExtractTextFromElementExecutor:()=>o});var r=a(17570);async function o(e){try{let t=e.getInput("Selector");if(!t)return e.log.error("选择器未找到"),!1;let a=e.getInput("HTML");if(!a)return e.log.error("HTML未找到"),!1;let o=r.load(a),n=o(t);if(!n)return e.log.error("元素未找到"),!1;let s=o.text(n);if(!s)return e.log.error("元素没有文本"),!1;return e.setOutput("Extracted text",s),!0}catch(t){return e.log.error(t.message),!1}}},7721:(e,t,a)=>{a.d(t,{FillInputExecutor:()=>r});async function r(e){try{let t=e.getInput("Selector");t||e.log.error("输入框->选择器未找到");let a=e.getInput("Value");return a||e.log.error("输入框->值未找到"),await e.getPage().type(t,a),!0}catch(t){return e.log.error(t.message),!1}}},69400:(e,t,a)=>{a.d(t,{LaunchBrowserExecutor:()=>n});var r=a(78018),o=a.n(r);async function n(e){try{let t=e.getInput("Website Url"),a=await o().launch({headless:!1,args:["--no-sandbox"]});e.setBrowser(a),e.log.info("新标签页打开成功");let r=await a.newPage();return await r.goto(t),e.setPage(r),e.log.info(`已打开: ${t}`),!0}catch(t){return e.log.error(t.message),!1}}},60783:(e,t,a)=>{a.d(t,{NavigateUrlExecutor:()=>r});async function r(e){try{let t=e.getInput("URL");return t||e.log.error("i输入框->URL未找到"),await e.getPage().goto(t),e.log.info(`访问 ${t}`),!0}catch(t){return e.log.error(t.message),!1}}},77848:(e,t,a)=>{a.d(t,{PageToHtmlExecutor:()=>r});async function r(e){try{let t=await e.getPage().content();return e.setOutput("HTML",t),!0}catch(t){return e.log.error(t.message),!1}}},87999:(e,t,a)=>{a.d(t,{ReadPropertyFromJsonExecutor:()=>r});async function r(e){try{let t=e.getInput("JSON");t||e.log.error("输入框->JSON未找到");let a=e.getInput("Property name");a||e.log.error("输入框->名称未找到");let r=JSON.parse(t)[a];if(void 0===r)return e.log.error("值未找到"),!1;return e.setOutput("Property value",r),!0}catch(t){return e.log.error(t.message),!1}}},96766:(e,t,a)=>{a.d(t,{ScrollToElementExecutor:()=>r});async function r(e){try{let t=e.getInput("Selector");return t||e.log.error("输入框->选择器未找到"),await e.getPage().evaluate(e=>{let t=document.querySelector(e);if(!t)throw Error("元素未找到");let a=t.getBoundingClientRect().top+window.scrollY;window.scrollTo({top:a})},t),!0}catch(t){return e.log.error(t.message),!1}}},38543:(e,t,a)=>{a.d(t,{WaitForElementExecutor:()=>r});async function r(e){try{let t=e.getInput("Selector");t||e.log.error("输入框->选择器未找到");let a=e.getInput("Visibility");return a||e.log.error("输入框->可见度未找到"),await e.getPage().waitForSelector(t,{visible:"visible"===a,hidden:"hidden"===a}),e.log.info(`元素 ${t} 变为 ${a}`),!0}catch(t){return e.log.error(t.message),!1}}},89618:(e,t,a)=>{a.d(t,{ExecutorRegistry:()=>y});var r=a(69400),o=a(77848),n=a(21228),s=a(7721),l=a(83300),i=a(38543),u=a(67843),T=a(29147),d=a(87999),c=a(46240),E=a(60783),p=a(96766);let y={LAUNCH_BROWSER:r.LaunchBrowserExecutor,PAGE_TO_HTML:o.PageToHtmlExecutor,EXTRACT_TEXT_FROM_ELEMENT:n.ExtractTextFromElementExecutor,FILL_INPUT:s.FillInputExecutor,CLICK_ELEMENT:l.ClickElementExecutor,WAIT_FOR_ELEMENT:i.WaitForElementExecutor,DELIVER_VIA_WEBHOOK:u.DeliverViaWebhookExecutor,EXTRACT_DATA_WITH_AI:T.ExtractDataWithAiExecutor,READ_PROPERTY_FROM_JSON:d.ReadPropertyFromJsonExecutor,ADD_PROPERTY_TO_JSON:c.AddPropertyToJsonExecutor,NAVIGATE_URL:E.NavigateUrlExecutor,SCROLL_TO_ELEMENT:p.ScrollToElementExecutor}},64313:(e,t,a)=>{a.d(t,{AddPropertyToJsonTask:()=>s});var r=a(55602),o=a(60003),n=a(74286);let s={type:n.TaskType.ADD_PROPERTY_TO_JSON,label:"存储JSON数据",icon:e=>r.jsx(o.DatabaseIcon,{className:"stroke-orange-400",...e}),isEntryPoint:!1,credits:1,inputs:[{name:"JSON",label:"JSON",type:n.TaskParamType.STRING,required:!0},{name:"Property name",label:"名称",type:n.TaskParamType.STRING,required:!0},{name:"Property value",label:"值",type:n.TaskParamType.STRING,required:!0}],outputs:[{name:"Updated JSON",label:"新JSON",type:n.TaskParamType.STRING}]}},23754:(e,t,a)=>{a.d(t,{ClickElementTask:()=>s});var r=a(55602),o=a(12615),n=a(74286);let s={type:n.TaskType.CLICK_ELEMENT,label:"点击元素",icon:e=>r.jsx(o.MousePointerClick,{className:"stroke-orange-400",...e}),isEntryPoint:!1,credits:0,inputs:[{name:"Web page",label:"页面",type:n.TaskParamType.BROWSER_INSTANCE,required:!0},{name:"Selector",label:"选择器",type:n.TaskParamType.STRING,required:!0}],outputs:[{name:"Web page",label:"页面",type:n.TaskParamType.BROWSER_INSTANCE}]}},59018:(e,t,a)=>{a.d(t,{DeliverViaWebhookTask:()=>s});var r=a(55602),o=a(10880),n=a(74286);let s={type:n.TaskType.DELIVER_VIA_WEBHOOK,label:"WebHook",icon:e=>r.jsx(o.SendIcon,{className:"stroke-blue-400",...e}),isEntryPoint:!1,credits:0,inputs:[{name:"Target URL",label:"目标URL",type:n.TaskParamType.STRING,required:!0},{name:"Body",label:"请求体",type:n.TaskParamType.STRING,required:!0}],outputs:[]}},12217:(e,t,a)=>{a.d(t,{ExtractDataWithAiTask:()=>s});var r=a(55602),o=a(15378),n=a(74286);let s={type:n.TaskType.EXTRACT_DATA_WITH_AI,label:"AI提取数据",icon:e=>r.jsx(o.BrainIcon,{className:"stroke-rose-400",...e}),isEntryPoint:!1,credits:0,inputs:[{name:"Content",label:"内容",type:n.TaskParamType.STRING,required:!0},{name:"Credentials",label:"凭证",type:n.TaskParamType.CREDENTIAL,required:!0},{name:"Prompt",label:"提示词",type:n.TaskParamType.STRING,required:!0,variant:"textarea"}],outputs:[{name:"Extracted data",label:"提取数据",type:n.TaskParamType.STRING}]}},62163:(e,t,a)=>{a.d(t,{ExtractTextFromElementTask:()=>s});var r=a(55602),o=a(64825),n=a(74286);let s={type:n.TaskType.EXTRACT_TEXT_FROM_ELEMENT,label:"获取文本",icon:e=>r.jsx(o.TextIcon,{className:"stroke-rose-400",...e}),isEntryPoint:!1,credits:0,inputs:[{name:"HTML",label:"HTML",type:n.TaskParamType.STRING,required:!0,variant:"textarea"},{name:"Selector",label:"选择器",type:n.TaskParamType.STRING,required:!0}],outputs:[{name:"Extracted text",label:"选取元素",type:n.TaskParamType.STRING}]}},27392:(e,t,a)=>{a.d(t,{FillInputTask:()=>s});var r=a(55602),o=a(92889),n=a(74286);let s={type:n.TaskType.FILL_INPUT,label:"填充输入框",icon:e=>r.jsx(o.Edit3Icon,{className:"stroke-orange-400",...e}),isEntryPoint:!1,credits:0,inputs:[{name:"Web page",label:"页面",type:n.TaskParamType.BROWSER_INSTANCE,required:!0},{name:"Selector",label:"选择器",type:n.TaskParamType.STRING,required:!0},{name:"Value",label:"值",type:n.TaskParamType.STRING,required:!0}],outputs:[{name:"Web page",label:"页面",type:n.TaskParamType.BROWSER_INSTANCE}]}},2083:(e,t,a)=>{a.d(t,{LaunchBrowserTask:()=>s});var r=a(55602),o=a(10830),n=a(74286);let s={type:n.TaskType.LAUNCH_BROWSER,label:"新建标签页",icon:e=>r.jsx(o.GlobeIcon,{className:"stroke-pink-400",...e}),isEntryPoint:!0,credits:0,inputs:[{label:"新建标签页 URL",name:"Website Url",type:n.TaskParamType.STRING,helperText:"例如: https://www.baidu.com",required:!0,hideHandle:!0}],outputs:[{label:"页面",name:"Web page",type:n.TaskParamType.BROWSER_INSTANCE}]}},46767:(e,t,a)=>{a.d(t,{NavigateUrlTask:()=>s});var r=a(55602),o=a(36559),n=a(74286);let s={type:n.TaskType.NAVIGATE_URL,label:"URL跳转",icon:e=>r.jsx(o.Link2Icon,{className:"stroke-orange-400",...e}),isEntryPoint:!1,credits:2,inputs:[{name:"Web page",label:"页面",type:n.TaskParamType.BROWSER_INSTANCE,required:!0},{name:"URL",label:"URL",type:n.TaskParamType.STRING,required:!0}],outputs:[{name:"Web page",label:"页面",type:n.TaskParamType.BROWSER_INSTANCE}]}},218:(e,t,a)=>{a.d(t,{PageToHtmlTask:()=>s});var r=a(55602),o=a(94051),n=a(74286);let s={type:n.TaskType.PAGE_TO_HTML,label:"获取HTML",icon:e=>r.jsx(o.CodeIcon,{className:"stroke-rose-400",...e}),isEntryPoint:!1,credits:0,inputs:[{name:"Web page",label:"页面",type:n.TaskParamType.BROWSER_INSTANCE,required:!0}],outputs:[{name:"HTML",label:"HTML",type:n.TaskParamType.STRING},{name:"Web page",label:"页面",type:n.TaskParamType.BROWSER_INSTANCE}]}},33812:(e,t,a)=>{a.d(t,{ReadPropertyFromJsonTask:()=>s});var r=a(55602),o=a(57005),n=a(74286);let s={type:n.TaskType.READ_PROPERTY_FROM_JSON,label:"读取JSON数据",icon:e=>r.jsx(o.FileJson2Icon,{className:"stroke-orange-400",...e}),isEntryPoint:!1,credits:1,inputs:[{name:"JSON",label:"JSON",type:n.TaskParamType.STRING,required:!0},{name:"Property name",label:"名称",type:n.TaskParamType.STRING,required:!0}],outputs:[{name:"Property value",label:"值",type:n.TaskParamType.STRING}]}},28419:(e,t,a)=>{a.d(t,{ScrollToElementTask:()=>s});var r=a(55602),o=a(22896),n=a(74286);let s={type:n.TaskType.SCROLL_TO_ELEMENT,label:"滚动元素",icon:e=>r.jsx(o.ArrowUpIcon,{className:"stroke-orange-400",...e}),isEntryPoint:!1,credits:1,inputs:[{name:"Web page",label:"页面",type:n.TaskParamType.BROWSER_INSTANCE,required:!0},{name:"Selector",label:"选择器",type:n.TaskParamType.STRING,required:!0}],outputs:[{name:"Web page",label:"页面",type:n.TaskParamType.BROWSER_INSTANCE}]}},14599:(e,t,a)=>{a.d(t,{WaitForElementTask:()=>s});var r=a(55602),o=a(66607),n=a(74286);let s={type:n.TaskType.WAIT_FOR_ELEMENT,label:"等待元素",icon:e=>r.jsx(o.EyeIcon,{className:"stroke-amber-400",...e}),isEntryPoint:!1,credits:0,inputs:[{name:"Web page",label:"页面",type:n.TaskParamType.BROWSER_INSTANCE,required:!0},{name:"Selector",label:"选择器",type:n.TaskParamType.STRING,required:!0},{name:"Visibility",label:"可见度",type:n.TaskParamType.SELECT,required:!0,hideHandle:!0,options:[{label:"可见",value:"visible"},{label:"隐藏",value:"hidden"}]}],outputs:[{name:"Web page",label:"页面",type:n.TaskParamType.BROWSER_INSTANCE}]}},68345:(e,t,a)=>{a.d(t,{TaskRegistry:()=>y});var r=a(2083),o=a(62163),n=a(218),s=a(27392),l=a(23754),i=a(14599),u=a(59018),T=a(12217),d=a(33812),c=a(64313),E=a(46767),p=a(28419);let y={LAUNCH_BROWSER:r.LaunchBrowserTask,PAGE_TO_HTML:n.PageToHtmlTask,EXTRACT_TEXT_FROM_ELEMENT:o.ExtractTextFromElementTask,FILL_INPUT:s.FillInputTask,CLICK_ELEMENT:l.ClickElementTask,WAIT_FOR_ELEMENT:i.WaitForElementTask,DELIVER_VIA_WEBHOOK:u.DeliverViaWebhookTask,EXTRACT_DATA_WITH_AI:T.ExtractDataWithAiTask,READ_PROPERTY_FROM_JSON:d.ReadPropertyFromJsonTask,ADD_PROPERTY_TO_JSON:c.AddPropertyToJsonTask,NAVIGATE_URL:E.NavigateUrlTask,SCROLL_TO_ELEMENT:p.ScrollToElementTask}},13603:(e,t,a)=>{a.d(t,{LogLevels:()=>r});let r=["info","error"]},74286:(e,t,a)=>{var r,o;a.d(t,{TaskParamType:()=>o,TaskType:()=>r}),function(e){e.LAUNCH_BROWSER="LAUNCH_BROWSER",e.PAGE_TO_HTML="PAGE_TO_HTML",e.EXTRACT_TEXT_FROM_ELEMENT="EXTRACT_TEXT_FROM_ELEMENT",e.FILL_INPUT="FILL_INPUT",e.CLICK_ELEMENT="CLICK_ELEMENT",e.WAIT_FOR_ELEMENT="WAIT_FOR_ELEMENT",e.DELIVER_VIA_WEBHOOK="DELIVER_VIA_WEBHOOK",e.EXTRACT_DATA_WITH_AI="EXTRACT_DATA_WITH_AI",e.READ_PROPERTY_FROM_JSON="READ_PROPERTY_FROM_JSON",e.ADD_PROPERTY_TO_JSON="ADD_PROPERTY_TO_JSON",e.NAVIGATE_URL="NAVIGATE_URL",e.SCROLL_TO_ELEMENT="SCROLL_TO_ELEMENT"}(r||(r={})),function(e){e.STRING="STRING",e.BROWSER_INSTANCE="BROWSER_INSTANCE",e.SELECT="SELECT",e.CREDENTIAL="CREDENTIAL"}(o||(o={}))},18992:(e,t,a)=>{var r,o,n,s;a.d(t,{ExecutionPhaseStatus:()=>s,WorkflowExecutionStatus:()=>o,WorkflowExecutionTrigger:()=>n,WorkflowStatus:()=>r}),function(e){e.DRAFT="DRAFT",e.PUBLISHED="PUBLISHED"}(r||(r={})),function(e){e.PENDING="PENDING",e.RUNNING="RUNNING",e.COMPLETED="COMPLETED",e.FAILED="FAILED"}(o||(o={})),function(e){e.MANUAL="MANUAL",e.CRON="CRON"}(n||(n={})),function(e){e.CREATED="CREATED",e.PENDING="PENDING",e.RUNNING="RUNNING",e.COMPLETED="COMPLETED",e.FAILED="FAILED"}(s||(s={}))}};