(()=>{var e={};e.id=502,e.ids=[502],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},6005:e=>{"use strict";e.exports=require("node:crypto")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},2059:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>f,pages:()=>c,routeModule:()=>m,tree:()=>o}),a(23861),a(36722),a(61692),a(12523);var r=a(23191),s=a(88716),n=a(37922),i=a.n(n),d=a(95231),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);a.d(t,l);let o=["",{children:["(dashboard)",{children:["credentials",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,23861)),"E:\\Demo\\next-workflow\\src\\app\\(dashboard)\\credentials\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,36722)),"E:\\Demo\\next-workflow\\src\\app\\(dashboard)\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,61692)),"E:\\Demo\\next-workflow\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,12523)),"E:\\Demo\\next-workflow\\src\\app\\not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["E:\\Demo\\next-workflow\\src\\app\\(dashboard)\\credentials\\page.tsx"],f="/(dashboard)/credentials/page",u={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(dashboard)/credentials/page",pathname:"/credentials",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},45884:(e,t,a)=>{let r={"84f5b1dce2145d5ec26313cc69f6d0acdd8a9832":()=>Promise.resolve().then(a.bind(a,91371)).then(e=>e.createCredential),"91e7141fc6b0134ce5355557d13eff532851a3cf":()=>Promise.resolve().then(a.bind(a,48235)).then(e=>e.deleteCredential),b15e8abe97d493bd29a52f19533c6ef64bdb497c:()=>Promise.resolve().then(a.bind(a,3479)).then(e=>e.invalidateCacheAction)};async function s(e,...t){return(await r[e]()).apply(null,t)}e.exports={"84f5b1dce2145d5ec26313cc69f6d0acdd8a9832":s.bind(null,"84f5b1dce2145d5ec26313cc69f6d0acdd8a9832"),"91e7141fc6b0134ce5355557d13eff532851a3cf":s.bind(null,"91e7141fc6b0134ce5355557d13eff532851a3cf"),b15e8abe97d493bd29a52f19533c6ef64bdb497c:s.bind(null,"b15e8abe97d493bd29a52f19533c6ef64bdb497c")}},28747:(e,t,a)=>{let r={"509fd53314a01037dfc143dc26c2136db06dbe5b":()=>Promise.resolve().then(a.bind(a,52185)).then(e=>e.getCredentialsForUser)};async function s(e,...t){return(await r[e]()).apply(null,t)}e.exports={"509fd53314a01037dfc143dc26c2136db06dbe5b":s.bind(null,"509fd53314a01037dfc143dc26c2136db06dbe5b")}},42986:(e,t,a)=>{Promise.resolve().then(a.bind(a,47082)),Promise.resolve().then(a.bind(a,5787))},47082:(e,t,a)=>{"use strict";a.d(t,{default:()=>v});var r=a(10326),s=a(17577),n=a(74723),i=a(74064),d=a(10119),l=a(85999),o=a(77506),c=a(24118),f=a(91664),u=a(9969),m=a(41190),x=a(82015),p=a(28463);a(15424);var h=(0,a(46242).$)("84f5b1dce2145d5ec26313cc69f6d0acdd8a9832"),g=a(770);let b=g.Ry({name:g.Z_().max(50),value:g.Z_().max(500)});function v({triggerText:e}){let[t,a]=(0,s.useState)(!1),g=(0,n.cI)({resolver:(0,i.F)(b)}),{mutate:v,isPending:y}=(0,d.D)({mutationFn:h,onSuccess:()=>{l.Am.success("凭证创建成功",{id:"create-credential"}),g.reset(),a(e=>!e)},onError:()=>{l.Am.error("凭证创建失败",{id:"create-credential"})}}),j=(0,s.useCallback)(e=>{l.Am.loading("凭证创建中...",{id:"create-credential"}),v(e)},[v]);return(0,r.jsxs)(c.Vq,{open:t,onOpenChange:a,children:[r.jsx(c.hg,{asChild:!0,children:r.jsx(f.z,{children:e??"新建"})}),(0,r.jsxs)(c.cZ,{className:"px-0",children:[r.jsx(p.Z,{title:"新建凭证"}),r.jsx("div",{className:"px-6",children:r.jsx(u.l0,{...g,children:(0,r.jsxs)("form",{className:"space-y-8 w-full",onSubmit:g.handleSubmit(j),children:[r.jsx(u.Wi,{control:g.control,name:"name",render:({field:e})=>(0,r.jsxs)(u.xJ,{children:[(0,r.jsxs)(u.lX,{className:"flex gap-1 items-center",children:["名称",r.jsx("p",{className:"text-xs text-primary",children:"(必填)"})]}),r.jsx(u.NI,{children:r.jsx(m.I,{...e})}),r.jsx(u.zG,{})]})}),r.jsx(u.Wi,{control:g.control,name:"value",render:({field:e})=>(0,r.jsxs)(u.xJ,{children:[(0,r.jsxs)(u.lX,{className:"flex gap-1 items-center",children:["值",r.jsx("p",{className:"text-xs text-primary",children:"(必填)"})]}),r.jsx(u.NI,{children:r.jsx(x.g,{className:"resize-none",...e})}),r.jsx(u.zG,{})]})}),r.jsx(f.z,{type:"submit",className:"w-full",disabled:y,children:y?r.jsx(o.Z,{className:"animate-spin"}):"新建"})]})})})]})]})}},5787:(e,t,a)=>{"use strict";a.d(t,{default:()=>u});var r=a(10326),s=a(17577),n=a(10119),i=a(85999),d=a(94019),l=a(55296),o=a(41190),c=a(91664);a(15424);var f=(0,a(46242).$)("91e7141fc6b0134ce5355557d13eff532851a3cf");function u({name:e}){let[t,a]=(0,s.useState)(!1),[u,m]=(0,s.useState)(""),x=(0,n.D)({mutationFn:f,onSuccess:()=>{i.Am.success("凭证删除成功",{id:e}),m("")},onError:()=>{i.Am.error("凭证删除失败",{id:e})}});return(0,r.jsxs)(l.aR,{open:t,onOpenChange:a,children:[r.jsx(l.vW,{asChild:!0,children:r.jsx(c.z,{variant:"destructive",size:"icon",children:r.jsx(d.Z,{size:18})})}),(0,r.jsxs)(l._T,{children:[(0,r.jsxs)(l.fY,{children:[r.jsx(l.f$,{children:"确定删除吗？"}),(0,r.jsxs)(l.yT,{children:["此项操作不可逆",(0,r.jsxs)("div",{className:"flex flex-col py-4 gap-2",children:[(0,r.jsxs)("p",{children:["如果确定, 输入名称 ",r.jsx("b",{children:e})," 确认:"]}),r.jsx(o.I,{value:u,onChange:e=>m(e.target.value)})]})]})]}),(0,r.jsxs)(l.xo,{children:[r.jsx(l.le,{onClick:()=>m(""),children:"取消"}),r.jsx(l.OL,{disabled:u!==e||x.isPending,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>{i.Am.loading("删除凭证中...",{id:e}),x.mutate(e)},children:"删除"})]})]})]})}},28463:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var r=a(10326),s=a(24118),n=a(78062),i=a(51223);function d(e){return(0,r.jsxs)(s.fK,{className:"px-6",children:[r.jsx(s.$N,{asChild:!0,children:r.jsx("div",{className:"flex items-start gap-2",children:e.title&&r.jsx("p",{className:(0,i.cn)("text-xl",e.titleClassName),children:e.title})})}),r.jsx(n.Separator,{})]})}},55296:(e,t,a)=>{"use strict";a.d(t,{OL:()=>g,_T:()=>u,aR:()=>l,f$:()=>p,fY:()=>m,le:()=>b,vW:()=>o,xo:()=>x,yT:()=>h});var r=a(10326),s=a(17577),n=a(80440),i=a(51223),d=a(91664);let l=n.fC,o=n.xz,c=n.h_,f=s.forwardRef(({className:e,...t},a)=>r.jsx(n.aV,{className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:a}));f.displayName=n.aV.displayName;let u=s.forwardRef(({className:e,...t},a)=>(0,r.jsxs)(c,{children:[r.jsx(f,{}),r.jsx(n.VY,{ref:a,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));u.displayName=n.VY.displayName;let m=({className:e,...t})=>r.jsx("div",{className:(0,i.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...t});m.displayName="AlertDialogHeader";let x=({className:e,...t})=>r.jsx("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});x.displayName="AlertDialogFooter";let p=s.forwardRef(({className:e,...t},a)=>r.jsx(n.Dx,{ref:a,className:(0,i.cn)("text-lg font-semibold",e),...t}));p.displayName=n.Dx.displayName;let h=s.forwardRef(({className:e,...t},a)=>r.jsx(n.dk,{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));h.displayName=n.dk.displayName;let g=s.forwardRef(({className:e,...t},a)=>r.jsx(n.aU,{ref:a,className:(0,i.cn)((0,d.d)(),e),...t}));g.displayName=n.aU.displayName;let b=s.forwardRef(({className:e,...t},a)=>r.jsx(n.$j,{ref:a,className:(0,i.cn)((0,d.d)({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));b.displayName=n.$j.displayName},24118:(e,t,a)=>{"use strict";a.d(t,{$N:()=>h,GG:()=>f,Vq:()=>l,cN:()=>p,cZ:()=>m,fK:()=>x,hg:()=>o});var r=a(10326),s=a(17577),n=a(98958),i=a(94019),d=a(51223);let l=n.fC,o=n.xz,c=n.h_,f=n.x8,u=s.forwardRef(({className:e,...t},a)=>r.jsx(n.aV,{ref:a,className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));u.displayName=n.aV.displayName;let m=s.forwardRef(({className:e,children:t,...a},s)=>(0,r.jsxs)(c,{children:[r.jsx(u,{}),(0,r.jsxs)(n.VY,{ref:s,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[t,(0,r.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(i.Z,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=n.VY.displayName;let x=({className:e,...t})=>r.jsx("div",{className:(0,d.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});x.displayName="DialogHeader";let p=({className:e,...t})=>r.jsx("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});p.displayName="DialogFooter";let h=s.forwardRef(({className:e,...t},a)=>r.jsx(n.Dx,{ref:a,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));h.displayName=n.Dx.displayName,s.forwardRef(({className:e,...t},a)=>r.jsx(n.dk,{ref:a,className:(0,d.cn)("text-sm text-muted-foreground",e),...t})).displayName=n.dk.displayName},9969:(e,t,a)=>{"use strict";a.d(t,{NI:()=>h,Wi:()=>f,l0:()=>o,lX:()=>p,xJ:()=>x,zG:()=>g});var r=a(10326),s=a(17577),n=a(34214),i=a(74723),d=a(51223),l=a(44794);let o=i.RV,c=s.createContext({}),f=({...e})=>r.jsx(c.Provider,{value:{name:e.name},children:r.jsx(i.Qr,{...e})}),u=()=>{let e=s.useContext(c),t=s.useContext(m),{getFieldState:a,formState:r}=(0,i.Gc)(),n=a(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:d}=t;return{id:d,name:e.name,formItemId:`${d}-form-item`,formDescriptionId:`${d}-form-item-description`,formMessageId:`${d}-form-item-message`,...n}},m=s.createContext({}),x=s.forwardRef(({className:e,...t},a)=>{let n=s.useId();return r.jsx(m.Provider,{value:{id:n},children:r.jsx("div",{ref:a,className:(0,d.cn)("space-y-2",e),...t})})});x.displayName="FormItem";let p=s.forwardRef(({className:e,...t},a)=>{let{error:s,formItemId:n}=u();return r.jsx(l._,{ref:a,className:(0,d.cn)(s&&"text-destructive",e),htmlFor:n,...t})});p.displayName="FormLabel";let h=s.forwardRef(({...e},t)=>{let{error:a,formItemId:s,formDescriptionId:i,formMessageId:d}=u();return r.jsx(n.g7,{ref:t,id:s,"aria-describedby":a?`${i} ${d}`:`${i}`,"aria-invalid":!!a,...e})});h.displayName="FormControl",s.forwardRef(({className:e,...t},a)=>{let{formDescriptionId:s}=u();return r.jsx("p",{ref:a,id:s,className:(0,d.cn)("text-sm text-muted-foreground",e),...t})}).displayName="FormDescription";let g=s.forwardRef(({className:e,children:t,...a},s)=>{let{error:n,formMessageId:i}=u(),l=n?String(n?.message):t;return l?r.jsx("p",{ref:s,id:i,className:(0,d.cn)("text-sm font-medium text-destructive",e),...a,children:l}):null});g.displayName="FormMessage"},41190:(e,t,a)=>{"use strict";a.d(t,{I:()=>i});var r=a(10326),s=a(17577),n=a(51223);let i=s.forwardRef(({className:e,type:t,...a},s)=>r.jsx("input",{type:t,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...a}));i.displayName="Input"},44794:(e,t,a)=>{"use strict";a.d(t,{_:()=>o});var r=a(10326),s=a(17577),n=a(34478),i=a(79360),d=a(51223);let l=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=s.forwardRef(({className:e,...t},a)=>r.jsx(n.f,{ref:a,className:(0,d.cn)(l(),e),...t}));o.displayName=n.f.displayName},82015:(e,t,a)=>{"use strict";a.d(t,{g:()=>i});var r=a(10326),s=a(17577),n=a(51223);let i=s.forwardRef(({className:e,...t},a)=>r.jsx("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t}));i.displayName="Textarea"},91371:(e,t,a)=>{"use strict";a.r(t),a.d(t,{createCredential:()=>o});var r=a(27745);a(26461);var s=a(30207),n=a(93396),i=a(24831),d=a(30866),l=a(5396);async function o(e){let{success:t,data:a}=l.createCredentialSchema.safeParse(e);if(!t)throw Error("数据错误");let{userId:r}=(0,n.auth)();if(!r)throw Error("账号错误");let o=(0,d.symmetricEncrypt)(a.value);if(!await i.default.credential.create({data:{userId:r,name:a.name,value:o}}))throw Error("创建凭证错误");(0,s.revalidatePath)("/credentials")}(0,a(85723).ensureServerEntryExports)([o]),(0,r.registerServerReference)("84f5b1dce2145d5ec26313cc69f6d0acdd8a9832",o)},48235:(e,t,a)=>{"use strict";a.r(t),a.d(t,{deleteCredential:()=>d});var r=a(27745);a(26461);var s=a(30207),n=a(93396),i=a(24831);async function d(e){let{userId:t}=(0,n.auth)();if(!t)throw Error("账户错误");await i.default.credential.delete({where:{userId_name:{userId:t,name:e}}}),(0,s.revalidatePath)("/credentials")}(0,a(85723).ensureServerEntryExports)([d]),(0,r.registerServerReference)("91e7141fc6b0134ce5355557d13eff532851a3cf",d)},52185:(e,t,a)=>{"use strict";a.r(t),a.d(t,{getCredentialsForUser:()=>i});var r=a(24330);a(60166);var s=a(13538),n=a(27577);async function i(){let{userId:e}=(0,n.I)();if(!e)throw Error("账号错误");return s.Z.credential.findMany({where:{userId:e},orderBy:{name:"asc"}})}(0,a(40618).h)([i]),(0,r.j)("509fd53314a01037dfc143dc26c2136db06dbe5b",i)},23861:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>A});var r=a(19510),s=a(71159),n=a(44549),i=a(79109);function d(e,t){let a=(0,i.Q)(e),r=(0,i.Q)(t),s=a.getTime()-r.getTime();return s<0?-1:s>0?1:s}var l=a(22313),o=a(39809),c=a(76171),f=a(2591),u=a(2036);let m={lessThanXSeconds:{one:"不到 1 秒",other:"不到 {{count}} 秒"},xSeconds:{one:"1 秒",other:"{{count}} 秒"},halfAMinute:"半分钟",lessThanXMinutes:{one:"不到 1 分钟",other:"不到 {{count}} 分钟"},xMinutes:{one:"1 分钟",other:"{{count}} 分钟"},xHours:{one:"1 小时",other:"{{count}} 小时"},aboutXHours:{one:"大约 1 小时",other:"大约 {{count}} 小时"},xDays:{one:"1 天",other:"{{count}} 天"},aboutXWeeks:{one:"大约 1 个星期",other:"大约 {{count}} 个星期"},xWeeks:{one:"1 个星期",other:"{{count}} 个星期"},aboutXMonths:{one:"大约 1 个月",other:"大约 {{count}} 个月"},xMonths:{one:"1 个月",other:"{{count}} 个月"},aboutXYears:{one:"大约 1 年",other:"大约 {{count}} 年"},xYears:{one:"1 年",other:"{{count}} 年"},overXYears:{one:"超过 1 年",other:"超过 {{count}} 年"},almostXYears:{one:"将近 1 年",other:"将近 {{count}} 年"}};var x=a(48278);let p={date:(0,x.l)({formats:{full:"y'年'M'月'd'日' EEEE",long:"y'年'M'月'd'日'",medium:"yyyy-MM-dd",short:"yy-MM-dd"},defaultWidth:"full"}),time:(0,x.l)({formats:{full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},defaultWidth:"full"}),dateTime:(0,x.l)({formats:{full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})};var h=a(41716);function g(e,t,a){let r="eeee p";return+(0,h.z)(e,a)==+(0,h.z)(t,a)?r:e.getTime()>t.getTime()?"'下个'"+r:"'上个'"+r}let b={lastWeek:g,yesterday:"'昨天' p",today:"'今天' p",tomorrow:"'明天' p",nextWeek:g,other:"PP p"};var v=a(21180);let y={ordinalNumber:(e,t)=>{let a=Number(e);switch(t?.unit){case"date":return a.toString()+"日";case"hour":return a.toString()+"时";case"minute":return a.toString()+"分";case"second":return a.toString()+"秒";default:return"第 "+a.toString()}},era:(0,v.Y)({values:{narrow:["前","公元"],abbreviated:["前","公元"],wide:["公元前","公元"]},defaultWidth:"wide"}),quarter:(0,v.Y)({values:{narrow:["1","2","3","4"],abbreviated:["第一季","第二季","第三季","第四季"],wide:["第一季度","第二季度","第三季度","第四季度"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:(0,v.Y)({values:{narrow:["一","二","三","四","五","六","七","八","九","十","十一","十二"],abbreviated:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],wide:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},defaultWidth:"wide"}),day:(0,v.Y)({values:{narrow:["日","一","二","三","四","五","六"],short:["日","一","二","三","四","五","六"],abbreviated:["周日","周一","周二","周三","周四","周五","周六"],wide:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},defaultWidth:"wide"}),dayPeriod:(0,v.Y)({values:{narrow:{am:"上",pm:"下",midnight:"凌晨",noon:"午",morning:"早",afternoon:"下午",evening:"晚",night:"夜"},abbreviated:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"},wide:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"}},defaultWidth:"wide",formattingValues:{narrow:{am:"上",pm:"下",midnight:"凌晨",noon:"午",morning:"早",afternoon:"下午",evening:"晚",night:"夜"},abbreviated:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"},wide:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"}},defaultFormattingWidth:"wide"})};var j=a(49858);let w={code:"zh-CN",formatDistance:(e,t,a)=>{let r;let s=m[e];return(r="string"==typeof s?s:1===t?s.one:s.other.replace("{{count}}",String(t)),a?.addSuffix)?a.comparison&&a.comparison>0?r+"内":r+"前":r},formatLong:p,formatRelative:(e,t,a,r)=>{let s=b[e];return"function"==typeof s?s(t,a,r):s},localize:y,match:{ordinalNumber:(0,a(84978).y)({matchPattern:/^(第\s*)?\d+(日|时|分|秒)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:(0,j.t)({matchPatterns:{narrow:/^(前)/i,abbreviated:/^(前)/i,wide:/^(公元前|公元)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^(前)/i,/^(公元)/i]},defaultParseWidth:"any"}),quarter:(0,j.t)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^第[一二三四]刻/i,wide:/^第[一二三四]刻钟/i},defaultMatchWidth:"wide",parsePatterns:{any:[/(1|一)/i,/(2|二)/i,/(3|三)/i,/(4|四)/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:(0,j.t)({matchPatterns:{narrow:/^(一|二|三|四|五|六|七|八|九|十[二一])/i,abbreviated:/^(一|二|三|四|五|六|七|八|九|十[二一]|\d|1[12])月/i,wide:/^(一|二|三|四|五|六|七|八|九|十[二一])月/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^一/i,/^二/i,/^三/i,/^四/i,/^五/i,/^六/i,/^七/i,/^八/i,/^九/i,/^十(?!(一|二))/i,/^十一/i,/^十二/i],any:[/^一|1/i,/^二|2/i,/^三|3/i,/^四|4/i,/^五|5/i,/^六|6/i,/^七|7/i,/^八|8/i,/^九|9/i,/^十(?!(一|二))|10/i,/^十一|11/i,/^十二|12/i]},defaultParseWidth:"any"}),day:(0,j.t)({matchPatterns:{narrow:/^[一二三四五六日]/i,short:/^[一二三四五六日]/i,abbreviated:/^周[一二三四五六日]/i,wide:/^星期[一二三四五六日]/i},defaultMatchWidth:"wide",parsePatterns:{any:[/日/i,/一/i,/二/i,/三/i,/四/i,/五/i,/六/i]},defaultParseWidth:"any"}),dayPeriod:(0,j.t)({matchPatterns:{any:/^(上午?|下午?|午夜|[中正]午|早上?|下午|晚上?|凌晨|)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^上午?/i,pm:/^下午?/i,midnight:/^午夜/i,noon:/^[中正]午/i,morning:/^早上/i,afternoon:/^下午/i,evening:/^晚上?/i,night:/^凌晨/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:4}};var N=a(27162);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let D=(0,N.Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),k=(0,N.Z)("ShieldOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]]),C=(0,N.Z)("LockKeyhole",[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]]);var P=a(63956),M=a(94443),S=a(93804),E=a(68570);let R=(0,E.createProxy)(String.raw`E:\Demo\next-workflow\src\app\(dashboard)\credentials\_components\CreateCredentialDialog.tsx`),{__esModule:_,$$typeof:z}=R;R.default;let W=(0,E.createProxy)(String.raw`E:\Demo\next-workflow\src\app\(dashboard)\credentials\_components\CreateCredentialDialog.tsx#default`),X=(0,E.createProxy)(String.raw`E:\Demo\next-workflow\src\app\(dashboard)\credentials\_components\DeleteCredentialDialog.tsx`),{__esModule:Y,$$typeof:T}=X;X.default;let F=(0,E.createProxy)(String.raw`E:\Demo\next-workflow\src\app\(dashboard)\credentials\_components\DeleteCredentialDialog.tsx#default`);var q=a(52185);function A(){return(0,r.jsxs)("div",{className:"flex flex-1 flex-col h-full",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"凭证"}),r.jsx("p",{className:"text-muted-foreground",children:"管理你的凭证"})]}),r.jsx(W,{})]}),(0,r.jsxs)("div",{className:"h-full py-6 space-y-8",children:[(0,r.jsxs)(P.bZ,{children:[r.jsx(D,{className:"h-4 w-4 stroke-primary"}),r.jsx(P.Cd,{className:"text-primary",children:"加密"}),r.jsx(P.X,{children:"所有信息都经过安全加密，确保您的数据安全"})]}),r.jsx(s.Suspense,{fallback:r.jsx(M.O,{className:"h-[300px] w-full"}),children:r.jsx(I,{})})]})]})}async function I(){let e=await (0,q.getCredentialsForUser)();return e?0===e.length?r.jsx(S.Zb,{className:"w-full p-4",children:(0,r.jsxs)("div",{className:"flex flex-col gap-4 items-center justify-center",children:[r.jsx("div",{className:"rounded-full bg-accent w-20 h-20 flex items-center justify-center",children:r.jsx(k,{size:40,className:"stroke-primary"})}),(0,r.jsxs)("div",{className:"flex flex-col gap-1 text-center",children:[r.jsx("p",{className:"font-bold",children:"目前没有凭证"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"点击按钮创建你的第一个凭证"})]}),r.jsx(W,{triggerText:"新建你的第一个凭证"})]})}):r.jsx("div",{className:"flex gap-2 flex-wrap",children:e.map(e=>{var t,a;let s=(t=e.createdAt,a={addSuffix:!0,locale:w},function(e,t,a){var r,s,n,m;let x,p,h;let g=(0,f.j)(),b=a?.locale??g.locale??c._,v=d(e,t);if(isNaN(v))throw RangeError("Invalid time value");let y=Object.assign({},a,{addSuffix:a?.addSuffix,comparison:v});v>0?(x=(0,i.Q)(t),p=(0,i.Q)(e)):(x=(0,i.Q)(e),p=(0,i.Q)(t));let j=(r=p,s=x,(m=void 0,e=>{let t=(m?Math[m]:Math.trunc)(e);return 0===t?0:t})((+(0,i.Q)(r)-+(0,i.Q)(s))/1e3)),w=Math.round((j-((0,u.D)(p)-(0,u.D)(x))/1e3)/60);if(w<2){if(a?.includeSeconds){if(j<5)return b.formatDistance("lessThanXSeconds",5,y);if(j<10)return b.formatDistance("lessThanXSeconds",10,y);if(j<20)return b.formatDistance("lessThanXSeconds",20,y);if(j<40)return b.formatDistance("halfAMinute",0,y);else if(j<60)return b.formatDistance("lessThanXMinutes",1,y);else return b.formatDistance("xMinutes",1,y)}return 0===w?b.formatDistance("lessThanXMinutes",1,y):b.formatDistance("xMinutes",w,y)}if(w<45)return b.formatDistance("xMinutes",w,y);if(w<90)return b.formatDistance("aboutXHours",1,y);if(w<l.H_)return b.formatDistance("aboutXHours",Math.round(w/60),y);if(w<2520)return b.formatDistance("xDays",1,y);if(w<l.fH){let e=Math.round(w/l.H_);return b.formatDistance("xDays",e,y)}if(w<2*l.fH)return h=Math.round(w/l.fH),b.formatDistance("aboutXMonths",h,y);if((h=function(e,t){let a;let r=(0,i.Q)(e),s=(0,i.Q)(t),n=d(r,s),l=Math.abs(function(e,t){let a=(0,i.Q)(e),r=(0,i.Q)(t);return 12*(a.getFullYear()-r.getFullYear())+(a.getMonth()-r.getMonth())}(r,s));if(l<1)a=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-n*l);let t=d(r,s)===-n;(function(e){let t=(0,i.Q)(e);return+function(e){let t=(0,i.Q)(e);return t.setHours(23,59,59,999),t}(t)==+(0,o.V)(t)})((0,i.Q)(e))&&1===l&&1===d(e,s)&&(t=!1),a=n*(l-Number(t))}return 0===a?0:a}(p,x))<12){let e=Math.round(w/l.fH);return b.formatDistance("xMonths",e,y)}{let e=h%12,t=Math.trunc(h/12);return e<3?b.formatDistance("aboutXYears",t,y):e<9?b.formatDistance("overXYears",t,y):b.formatDistance("almostXYears",t+1,y)}}(t,(0,n.L)(t,Date.now()),a));return(0,r.jsxs)(S.Zb,{className:"w-full p-4 flex justify-between",children:[(0,r.jsxs)("div",{className:"flex gap-2 items-center",children:[r.jsx("div",{className:"rounded-full bg-primary/10 w-8 h-8 flex items-center justify-center",children:r.jsx(C,{size:18,className:"stroke-primary"})}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-bold",children:e.name}),r.jsx("p",{className:"text-xs text-muted-foreground",children:s})]})]}),r.jsx(F,{name:e.name})]},e.id)})}):r.jsx("div",{children:"错误"})}},63956:(e,t,a)=>{"use strict";a.d(t,{Cd:()=>o,X:()=>c,bZ:()=>l});var r=a(19510),s=a(71159),n=a(46145),i=a(40644);let d=(0,n.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=s.forwardRef(({className:e,variant:t,...a},s)=>r.jsx("div",{ref:s,role:"alert",className:(0,i.cn)(d({variant:t}),e),...a}));l.displayName="Alert";let o=s.forwardRef(({className:e,...t},a)=>r.jsx("h5",{ref:a,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",e),...t}));o.displayName="AlertTitle";let c=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",e),...t}));c.displayName="AlertDescription"},93804:(e,t,a)=>{"use strict";a.d(t,{Ol:()=>d,Zb:()=>i,aY:()=>o,ll:()=>l});var r=a(19510),s=a(71159),n=a(40644);let i=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let d=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));d.displayName="CardHeader";let l=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle",s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let o=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,n.cn)("p-6 pt-0",e),...t}));o.displayName="CardContent",s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},30866:(e,t,a)=>{"use strict";a.d(t,{symmetricDecrypt:()=>d,symmetricEncrypt:()=>i});var r=a(6113),s=a.n(r);let n="aes-256-cbc",i=e=>{let t=process.env.ENCRYPTION_KEY;if(!t)throw Error("加密key没有找到");let a=s().randomBytes(16),r=s().createCipheriv(n,Buffer.from(t,"hex"),a),i=r.update(e);return i=Buffer.concat([i,r.final()]),a.toString("hex")+":"+i.toString("hex")},d=e=>{let t=process.env.ENCRYPTION_KEY;if(!t)throw Error("加密key没有找到");let a=e.split(":"),r=Buffer.from(a.shift(),"hex"),i=Buffer.from(a.join(":"),"hex"),d=s().createDecipheriv(n,Buffer.from(t,"hex"),r),l=d.update(i);return(l=Buffer.concat([l,d.final()])).toString()}},24831:(e,t,a)=>{"use strict";a.d(t,{default:()=>s});var r=a(53524);let s=globalThis.prismaGlobal??new r.PrismaClient},5396:(e,t,a)=>{"use strict";a.d(t,{createCredentialSchema:()=>s});var r=a(24931);let s=r.z.object({name:r.z.string().max(50),value:r.z.string().max(500)})}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[948,547,86,0,370,341,460,962,822,877,318],()=>a(2059));module.exports=r})();